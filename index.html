<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trading Journal</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    /* Add your CSS here */
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      color: #333;
      margin: 0;
      padding: 0;
    }

    .container {
      width: 90%;
      margin: 0 auto;
    }

    header {
      background-color: #333;
      color: #fff;
      padding: 10px;
      text-align: center;
    }

    button {
      background-color: #4CAF50;
      color: white;
      padding: 10px 20px;
      border: none;
      cursor: pointer;
    }

    button:hover {
      background-color: #45a049;
    }

    .dark-mode {
      background-color: #333;
      color: #fff;
    }

    .dark-mode button {
      background-color: #5c6bc0;
    }

    #tradeForm input,
    #tradeForm select,
    #tradeForm textarea {
      width: 100%;
      padding: 10px;
      margin: 5px 0;
      box-sizing: border-box;
    }

    .trade-history table {
      width: 100%;
      margin-top: 20px;
      border-collapse: collapse;
    }

    .trade-history th,
    .trade-history td {
      padding: 10px;
      border: 1px solid #ddd;
      text-align: left;
    }

    .trade-history th {
      background-color: #f4f4f4;
    }

    .trade-history tr:nth-child(even) {
      background-color: #f9f9f9;
    }

    .dark-mode .trade-history th,
    .dark-mode .trade-history td {
      border-color: #444;
    }

    .dark-mode .trade-history th {
      background-color: #555;
    }

    /* Make the app mobile responsive */
    @media (max-width: 768px) {
      .container {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Trading Journal</h1>
      <button id="darkModeToggle" onclick="toggleDarkMode()">Toggle Dark Mode</button>
    </header>

    <section id="tradeForm">
      <h2>Record Your Trade</h2>
      <form id="tradeFormContent">
        <label for="dateTime">Date & Time:</label>
        <input type="datetime-local" id="dateTime" required><br>

        <label for="instrument">Instrument/Asset:</label>
        <input type="text" id="instrument" required><br>

        <label for="setupType">Setup Type (Technical/Fundamental):</label>
        <select id="setupType" required>
          <option value="technical">Technical</option>
          <option value="fundamental">Fundamental</option>
        </select><br>

        <label for="entryPoint">Entry Point:</label>
        <input type="number" id="entryPoint" step="any" required><br>

        <label for="exitPoint">Exit Point:</label>
        <input type="number" id="exitPoint" step="any" required><br>

        <label for="positionSize">Position Size:</label>
        <input type="number" id="positionSize" step="any" required><br>

        <label for="stopLoss">Stop Loss:</label>
        <input type="number" id="stopLoss" step="any" required><br>

        <label for="target">Target:</label>
        <input type="number" id="target" step="any" required><br>

        <label for="reason">Reason for Trade:</label>
        <textarea id="reason" required></textarea><br>

        <label for="emotion">Emotion Before/During/After:</label>
        <textarea id="emotion" required></textarea><br>

        <label for="postTradeAnalysis">Post-Trade Analysis (What went right/wrong):</label>
        <textarea id="postTradeAnalysis" required></textarea><br>

        <label for="tags">Tags (e.g., "Long", "Scalping"):</label>
        <input type="text" id="tags" placeholder="Enter tags separated by commas"><br>

        <button type="submit">Save Trade</button>
      </form>
    </section>

    <section id="tradeStats">
      <h2>Trade Statistics</h2>
      <p id="stats"></p>
      <canvas id="performanceChart" width="400" height="400"></canvas>
    </section>

    <section class="trade-history">
      <h2>Trade History</h2>
      <label for="search">Search Trades:</label>
      <input type="text" id="search" oninput="filterTrades()">
      <table>
        <thead>
          <tr>
            <th>Date & Time</th>
            <th>Instrument/Asset</th>
            <th>Setup Type</th>
            <th>Entry Point</th>
            <th>Exit Point</th>
            <th>Position Size</th>
            <th>Stop Loss</th>
            <th>Target</th>
            <th>Reason</th>
            <th>Emotion</th>
            <th>Post-Trade Analysis</th>
            <th>Tags</th>
          </tr>
        </thead>
        <tbody id="tradeHistoryBody"></tbody>
      </table>
    </section>
  </div>

  <script>
    // JavaScript code for functionality

    let tradeHistory = [];

    document.getElementById('tradeFormContent').addEventListener('submit', function(event) {
      event.preventDefault();

      // Validation check
      const requiredFields = ['dateTime', 'instrument', 'setupType', 'entryPoint', 'exitPoint', 'positionSize', 'stopLoss', 'target', 'reason', 'emotion', 'postTradeAnalysis'];
      let isFormValid = true;
      requiredFields.forEach(field => {
        const inputElement = document.getElementById(field);
        if (!inputElement.value) {
          isFormValid = false;
          inputElement.style.borderColor = 'red';
        } else {
          inputElement.style.borderColor = '';
        }
      });

      if (!isFormValid) {
        alert('Please fill out all required fields.');
        return;
      }

      const trade = {
        dateTime: document.getElementById('dateTime').value,
        instrument: document.getElementById('instrument').value,
        setupType: document.getElementById('setupType').value,
        entryPoint: document.getElementById('entryPoint').value,
        exitPoint: document.getElementById('exitPoint').value,
        positionSize: document.getElementById('positionSize').value,
        stopLoss: document.getElementById('stopLoss').value,
        target: document.getElementById('target').value,
        reason: document.getElementById('reason').value,
        emotion: document.getElementById('emotion').value,
        postTradeAnalysis: document.getElementById('postTradeAnalysis').value,
        tags: document.getElementById('tags').value.split(',').map(tag => tag.trim())
      };

      tradeHistory.push(trade);
      displayTradeHistory();
      calculateStatistics();
      displayPerformanceChart();
      document.getElementById('tradeFormContent').reset();
    });

    function displayTradeHistory() {
      const tableBody = document.getElementById('tradeHistoryBody');
      tableBody.innerHTML = '';
      tradeHistory.forEach(trade => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${trade.dateTime}</td>
          <td>${trade.instrument}</td>
          <td>${trade.setupType}</td>
          <td>${trade.entryPoint}</td>
          <td>${trade.exitPoint}</td>
          <td>${trade.positionSize}</td>
          <td>${trade.stopLoss}</td>
          <td>${trade.target}</td>
          <td>${trade.reason}</td>
          <td>${trade.emotion}</td>
          <td>${trade.postTradeAnalysis}</td>
          <td>${trade.tags.join(', ')}</td>
        `;
        tableBody.appendChild(row);
      });
    }

    function filterTrades() {
      const searchTerm = document.getElementById('search').value.toLowerCase();
      const filteredTrades = tradeHistory.filter(trade => {
        return trade.instrument.toLowerCase().includes(searchTerm) ||
               trade.reason.toLowerCase().includes(searchTerm);
      });
      displayTradeHistory(filteredTrades);
    }

    function calculateStatistics() {
      const totalTrades = tradeHistory.length;
      const winCount = tradeHistory.filter(trade => trade.result === 'Win').length;
      const lossCount = totalTrades - winCount;
      const winLossRatio = (winCount / lossCount).toFixed(2);
      const totalProfitLoss = tradeHistory.reduce((total, trade) => total + parseFloat(trade.profitLoss), 0);
      const mostTradedInstrument = getMostTradedInstrument();

      // Display statistics
      document.getElementById('stats').innerHTML = `
        Total Trades: ${totalTrades} <br>
        Win/Loss Ratio: ${winLossRatio} <br>
        Total Profit/Loss: $${totalProfitLoss.toFixed(2)} <br>
        Most Traded Instrument: ${mostTradedInstrument}
      `;
    }

    function getMostTradedInstrument() {
      const instrumentCount = {};
      tradeHistory.forEach(trade => {
        instrumentCount[trade.instrument] = (instrumentCount[trade.instrument] || 0) + 1;
      });

      let mostTraded = '';
      let maxCount = 0;
      for (const instrument in instrumentCount) {
        if (instrumentCount[instrument] > maxCount) {
          mostTraded = instrument;
          maxCount = instrumentCount[instrument];
        }
      }
      return mostTraded;
    }

    function displayPerformanceChart() {
      const ctx = document.getElementById('performanceChart').getContext('2d');
      const performanceChart = new Chart(ctx, {
        type: 'pie',
        data: {
          labels: ['Wins', 'Losses'],
          datasets: [{
            data: [60, 40], // Example win/loss data
            backgroundColor: ['#4CAF50', '#FF5733']
          }]
        }
      });
    }

    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
    }
  </script>
</body>
</html
